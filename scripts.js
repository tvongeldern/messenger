function autocorrect(t){for(var r=t.length,e=document.getElementById("acOptions");e.children.length>0;)e.removeChild(e.childNodes[0]);for(i=1;i<79526;i++)if(t.substr(0,r).toLowerCase()==dictIndex[i].word.substr(0,r)&&r>2&&e.children.length<9){document.getElementById("acOptions").tabIndex="1";var n=document.createElement("LI");n.innerHTML='<button class="selectWord">'+dictIndex[i].word+"</button>",n.value=i,n.onclick=function(){var i=this.childNodes[0].innerHTML,t=document.getElementById("usertext").value,r=t.split(" ");r[r.length-1]=i+" ";var n=String(r);for(n=n.replace(/,,/gi,"&uu&,"),n=n.replace(/,/gi," "),n=n.replace(/&uu&/gi,","),document.getElementById("usertext").value=n,document.getElementById("usertext").focus();e.children.length>0;)e.removeChild(e.childNodes[0])},document.getElementById("acOptions").appendChild(n)}if(0==r)for(;e.children.length>0;)e.removeChild(e.childNodes[0])}function checkTxt(){if("true"==localStorage.getItem("acOff"));else{var t=document.getElementById("usertext").value,r=t.split(" ");for(autocorrect(r[r.length-1]),i=0;i<r.length;i++)if("aint"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"ain't"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("youve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"you've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("youre"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"you're"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("youll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"you'll"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("youdve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"you'd've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("youd"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"you'd"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("yallll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"y'all'll"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("yalldve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"y'alld've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("yall"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"y'all"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("wouldve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"would've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("wouldntve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"wouldn't've"+t.substring(e+9);break}for(i=0;i<r.length;i++)if("wouldnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"wouldn't"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("wont"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"won't"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("whys"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"why's"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("whyre"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"why're"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whyll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"why'll"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whove"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"who've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whos"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"who's"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("wholl"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"who'll"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whodve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"who'd've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("whod"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"who'd"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("whereve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"where've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("wheres"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"where's"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("whered"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"where'd"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("whens"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"when's"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whatve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"what've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("whats"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"what's"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("whatre"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"what're"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("whatll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"what'll"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("weve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we've"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("werent"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"weren't"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("wedve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"wed've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("wasnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"wasn't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("twas"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"'twas"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("theyve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"they've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("theyre"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"they're"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("theyll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"they'll"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("theydve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"they'd've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("theyd"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"they'd"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("theres"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"there's"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("therere"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"the're're"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("theredve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"there'd've"+t.substring(e+8);break}for(i=0;i<r.length;i++)if("thered"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"there'd"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("thats"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"that's"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("thatll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"that'll"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("shouldve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"should've"+t.substring(e+8);break}for(i=0;i<r.length;i++)if("shouldntve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"shouldn't've"+t.substring(e+10);break}for(i=0;i<r.length;i++)if("shouldnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"shouldn't"+t.substring(e+8);break}for(i=0;i<r.length;i++)if("shes"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she's"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("shedve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she'd've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("shant"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"shan't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("oughtnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"oughtn't"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("oclock"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"o'clock"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("notve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"not've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("neednt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"needn't"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("mustve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"must've"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("mustnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"mustn't"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("mightve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"might've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("mightntve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"mightn't've"+t.substring(e+9);break}for(i=0;i<r.length;i++)if("mightnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"mightn't"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("maam"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"ma'am"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("ive"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I've"+t.substring(e+3);break}for(i=0;i<r.length;i++)if("itll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"it'll"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("itdve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"it'd've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("itd"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"it'd"+t.substring(e+3);break}for(i=0;i<r.length;i++)if("isnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"isn't"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("Im"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I'm"+t.substring(e+2);break}for(i=0;i<r.length;i++)if("Idve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I'd've"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("Id"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I'd"+t.substring(e+2);break}for(i=0;i<r.length;i++)if("hows"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"how's"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("howll"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"how'll"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("howd"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"how'd"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("hes"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he's"+t.substring(e+3);break}for(i=0;i<r.length;i++)if("hedve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he'd've"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("havent"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"haven't"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("hasnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"hasn't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("hadntve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"hadn't've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("hadnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"hadn't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("dont"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"don't"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("doesnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"doesn't"+t.substring(e+6);break}for(i=0;i<r.length;i++)if("didnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"didn't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("couldve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"could've"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("couldntve"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"couldn't've"+t.substring(e+9);break}for(i=0;i<r.length;i++)if("couldnt"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"couldn't"+t.substring(e+7);break}for(i=0;i<r.length;i++)if("cant"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"can't"+t.substring(e+4);break}for(i=0;i<r.length;i++)if("arent"==word(r[i])&&r.length>i+1){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"aren't"+t.substring(e+5);break}for(i=0;i<r.length;i++)if("its"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);if(i>0)var d=word(r[i-1]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&("s"==dictIndex[j].type||"p"==dictIndex[j].type||"r"==dictIndex[j].type||"a"==dictIndex[j].type&&1==punctuation(r[i+1].slice(-1)))){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"it's"+t.substring(e+3);break}}for(i=0;i<r.length;i++)if("were"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);if(i>0){var d=word(r[i-1]);if(1==punctuation(r[i-1].slice(-1))){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we're"+t.substring(e+4);break}}if(0==i){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we're"+t.substring(e+4);break}for(j=1;j<79526;j++)if(dictIndex[j].word==d&&"c"==dictIndex[j].type)for(k=1;k<79526;k++)if(dictIndex[k].word==n&&"vp"==dictIndex[k].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we're"+t.substring(e+4);break}}for(i=0;i<r.length;i++)if("lets"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"let's"+t.substring(e+4);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"let's"+t.substring(e+4);break}}}for(i=0;i<r.length;i++)if("shed"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she'd"+t.substring(e+4);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she'd"+t.substring(e+4);break}}}for(i=0;i<r.length;i++)if("hed"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he'd"+t.substring(e+3);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he'd"+t.substring(e+3);break}}}for(i=0;i<r.length;i++)if("wed"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we'd"+t.substring(e+3);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we'd"+t.substring(e+3);break}}}for(i=0;i<r.length;i++)if("hell"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he'll"+t.substring(e+4);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"he'll"+t.substring(e+4);break}}}for(i=0;i<r.length;i++)if("shell"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she'll"+t.substring(e+5);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"she'll"+t.substring(e+5);break}}}for(i=0;i<r.length;i++)if("ill"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I'll"+t.substring(e+4);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"I'll"+t.substring(e+4);break}}}for(i=0;i<r.length;i++)if("well"==word(r[i])&&r.length>i+2){var n=word(r[i+1]),s=word(r[i+2]);for(j=1;j<79526;j++)if(dictIndex[j].word==n&&0==punctuation(r[i].slice(-1))){if("v"==dictIndex[j].type){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we'll"+t.substring(e+4);break}if(dictIndex[j].type="r")for(k=1;k<79526;k++)if(dictIndex[k].word==s&&"v"==dictIndex[k].type&&r.length>i+3){var e=t.lastIndexOf(r[i]);t=t.substring(0,e)+"we'll"+t.substring(e+4);break}}}for(t=t.replace(t.charAt(0),t.charAt(0).toUpperCase()),i=0;i<t.length;i++){var l=/[.|!|?]/;if(1==l.test(t.charAt(i))&&" "==t.charAt(i+1))for(j=1;j<4;j++)if(" "!=t.charAt(i+j)){var g=t.substring(0,i+j),a=t.substring(i+j,t.length),a=a.replace(t.charAt(i+j),t.charAt(i+j).toUpperCase());t=g+a;break}}document.getElementById("usertext").value=t}}function isLetter(i){i=i.toLowerCase();var t=/[a-z]/i;return t.test(i)}function word(i){for(i=i.toLowerCase(),j=0;j<i.length;j++)0==isLetter(i.charAt(j))&&"'"!=i.charAt(j)&&(i=i.replace(i.charAt(j),""));return i}function punctuation(i){return","==i||"."==i||"!"==i||"?"==i||"-"==i||";"==i||":"==i?!0:!1};
function runScript(){rollOut();for(var e=sessionStorage.getItem("me"),t=sessionStorage.getItem("them").toLowerCase(),n=alphabetize(e,t),s=document.getElementById("messages");s.rows.length>0;)s.deleteRow(0);var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(document.getElementById("convoName").innerHTML=t,"on"==o.responseText?(document.getElementById("statusIndicator").style.display="block",document.getElementById("statusIndicator").src="GreenDot.png"):(document.getElementById("statusIndicator").style.display="block",document.getElementById("statusIndicator").src="RedDot.png"))},o.open("POST","queryMsgs.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("conversation="+n+"&sender="+e+"&receiver="+t)}function sendMessage(){var e=sessionStorage.getItem("me"),t=sessionStorage.getItem("them"),n=alphabetize(e,t),s=document.getElementById("usertext").value,o=document.getElementById("messages"),a=(o.insertRow(o.rows.length),new XMLHttpRequest);a.onreadystatechange=function(){1==a.readyState&&(document.getElementById("usertext").style.backgroundImage="url('loading.gif')"),4==a.readyState&&200==a.status&&(document.getElementById("usertext").style.backgroundImage="")},a.open("POST","sendMsg.php",!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send("message="+s+"&sender="+e+"&conversation="+n),document.getElementById("usertext").value=""}function alphabetize(e,t){var n=new Array;n[0]=e,n[1]=t;var s=n.sort();return s=String(s).replace(",","8amp8"),s="8amp8"+s+"8amp8"}function isLetter(e){e=e.toLowerCase();var t=/[a-z]/i;return t.test(e)}function isAlpha(e){e=e.toLowerCase();var t=/^[0-9a-zA-Z]+$/;return t.test(e)}function signUp(){var e=document.getElementById("createUser").value.toLowerCase(),t=document.getElementById("createPW").value,n=document.getElementById("createPW2").value,s=document.getElementById("signupResponse");if(0==isAlpha(e)||0==isLetter(e.charAt(0))||e.length<5||e.length>15)alert("Username must be between 5 and 15 charachters, alphanumeric, and begin with a letter");else if(t!=n)alert("YOUR PASSWORDS DO NOT MATCH");else if(0==isAlpha(t)||t.length<6||t.length>15)alert("Password must be alphanumeric and have at least 5 characters");else{var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&200==o.status&&(s.innerHTML=o.responseText)},o.open("POST","createUser.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("username="+e+"&password="+t),document.getElementById("createPW").value="",document.getElementById("createPW2").value="",document.getElementById("createUser").value=""}}function signIn(){var e=document.getElementById("login").value.toLowerCase(),t=document.getElementById("loginPW").value,n=(document.getElementById("signinResponse"),new XMLHttpRequest);n.onreadystatechange=function(){4==n.readyState&&200==n.status&&("false"!=n.responseText?(sessionStorage.setItem("me",n.responseText),document.getElementById("loginDiv").style.display="none",document.getElementById("imdiv").style.display="block",friendlist()):(alert("SIGN IN ATTEMPT FAILED"),document.getElementById("loginPW").value=""))},n.open("POST","signIn.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("username="+e+"&password="+t)}function userExists(){var e=sessionStorage.getItem("me"),t=document.getElementById("searchFriend").value,n=new XMLHttpRequest;n.onreadystatechange=function(){1==n.readyState&&(document.getElementById("searchFriend").style.backgroundImage="url('loading.gif')"),4==n.readyState&&200==n.status&&("false"==n.responseText?(alert("NOT A VALID QUERY"),document.getElementById("searchFriend").style.backgroundImage=""):(sessionStorage.setItem("them",n.responseText),document.getElementById("searchFriend").style.backgroundImage="url('GreenDot.png')",runScript(),setTimeout(function(){document.getElementById("usertext").style.display="block",document.getElementById("sendMessage").style.display="block"},850)))},n.open("POST","userExists.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("user="+t+"&sender="+e)}function hideShow(e,t){document.getElementById(e).style.display="none",document.getElementById(t).style.display="block"}function check4msg(){clearInterval(check4msg),check4msg=setInterval(function(){var e=sessionStorage.getItem("me"),t=sessionStorage.getItem("them"),n=alphabetize(e,t),s=0;for(i=0;i<document.getElementById("messages").rows.length;i++)s+=document.getElementById("messages").rows[i].cells.length;var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status)if(o.responseText.length>22){var e=document.getElementById("messages"),t=e.insertRow(e.rows.length);t.innerHTML=o.responseText}else"** RELOAD WINDOW **"==o.responseText&&runScript()},o.open("POST","check4msg.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("conversation="+n+"&messageCt="+s+"&sender="+e)},1750)}function friendlist(){var e=sessionStorage.getItem("me");e="8amp8"+e+"8amp8";var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n=String(t.responseText.split("8amp88amp8")).replace(/,/g,"8amp8,8amp8"),n=n.split(",");for(i=1;i<n.length;i++){var s=n[i];s=s.replace(e,"").replace("8amp8","");var o=document.getElementById("showRecent"),a=o.insertRow(1),r=a.insertCell(0);r.innerHTML=s,r.id=s+"convBox",r.onclick=function(){setThem(this)};for(var l=2;l<o.rows.length;){var d=o.rows[l].cells[0].innerHTML;d==s&&o.deleteRow(l),l+=1}for(;o.rows.length>11;)o.deleteRow(1)}}check4incoming(),setInterval(function(){newConvQuery()},5e3)},t.open("POST","friendlist.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("sender="+e)}function check4incoming(){var e=document.getElementById("showRecent"),t=sessionStorage.getItem("me"),n=new Array,s=new Array;for(i=1;i<e.rows.length;i++)n[n.length]=e.rows[i].cells[0].innerHTML,s[s.length]=alphabetize(t,e.rows[i].cells[0].innerHTML);if(s.length>0){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText.split(",");for(i=0;i<e.length;i++){var t=e[i].split("=");sessionStorage.setItem(t[0],t[1])}}},o.open("POST","check4incoming.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("convos="+s+"&sender="+t+"&friends="+n)}setInterval(function(){checkBack()},5e3)}function checkBack(){var e=document.getElementById("showRecent"),t=sessionStorage.getItem("me"),n=new Array,s=new Array;for(i=1;i<e.rows.length;i++)n[n.length]=e.rows[i].cells[0].innerHTML,s[s.length]=alphabetize(t,e.rows[i].cells[0].innerHTML);if(s.length>0){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=o.responseText.split(",");for(i=0;i<e.length;i++){var t=e[i].split("=");sessionStorage.getItem(t[0])!=String(t[1])&&document.getElementById("convoName").innerHTML!=t[0]&&(document.getElementById(t[0]+"convBox").style.backgroundColor="#00CC00",document.getElementById(t[0]+"convBox").style.color="white",sessionStorage.setItem(t[0],t[1]))}}},o.open("POST","check4incoming.php",!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send("convos="+s+"&sender="+t+"&friends="+n)}}function newConvQuery(){var e=document.getElementById("showRecent").rows.length,t=sessionStorage.getItem("me"),n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&n.responseText.length>1&&friendlist()},n.open("POST","newConv.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("input="+e+"&sender="+t)}function setThem(e){for(sessionStorage.setItem("them",e.innerHTML),e.style.backgroundColor="white",e.style.color="#383838";document.getElementById("messages").rows.length>0;)document.getElementById("messages").deleteRow(0);runScript()}function rollOut(){"90%"!=document.getElementById("window").style.height&&(document.getElementById("window").style.height="90%",setTimeout(function(){document.getElementById("usertext").style.display="block",document.getElementById("sendMessage").style.display="block"},850),check4msg())}function myFunctionn(e){var t=e.which||e.keyCode;if("13"==t&document.getElementById("usertext").value.length>1){sendMessage();var n=document.getElementById("usertext");n.value="",n.focus()}}function setAC(e){document.getElementById("optionsList").style.display="none",localStorage.setItem("acOff",e),document.getElementById("settingsPic").style.outlineColor="true"==e?"red":"transparent"}function onLoad(){"true"==localStorage.getItem("acOff")&&(document.getElementById("settingsPic").style.outlineColor="red"),null==sessionStorage.getItem("me")||""==sessionStorage.getItem("me")?(document.getElementById("imdiv").style.display="none",document.getElementById("loginDiv").style.display="block"):friendlist(),null!=sessionStorage.getItem("them")&&""!=sessionStorage.getItem("them")&&(rollOut(),document.getElementById("convoName").innerHTML=sessionStorage.getItem("them"))}function signOut(){var e=sessionStorage.getItem("me"),t=new XMLHttpRequest;t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(sessionStorage.setItem("me",""),sessionStorage.setItem("them",""),location.reload())},t.open("POST","signOut.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("sender="+e)}